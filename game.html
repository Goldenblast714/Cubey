<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8" />
        <link rel='shortcut icon' type='image/png' href='./icon.png' />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Loading...</title>
        <link rel="stylesheet" href="game.css">
        <noscript>
            <meta http-equiv="refresh" content="0;url=noscript.html">
        </noscript>
        <link rel="preload" href="./Cubey.wick" as="fetch" crossorigin="anonymous">
        
    </head>

    <body>
        <!-- Preloader -->
        <div id="preloader">
            <main>
                <script>
                    const tip = document.createElement('p')
                    tip.classList.add('tip')
                    const tips = top.location.hostname === 'localhost' || top.location.href.toLowerCase().includes('gldblst.tk') ? [
                        'We once tried to add skins to Cubey. We failed.',
                        '<a href="https://xkcd.com/10/" target=”_blank”>I\'M TRAPPED AN A CUBEY LOADING SCREEN TIP FACTORY</a>',
                        `free cubey hacks working ${new Date().getFullYear()} no survey`,
                        // Easter eggs
                        'There is a testing room in Cubey. Get to it by going to the credits and clicking "Jack".',
                        'If you complete Cubey, the lock in <a target=”_blank” href="https://goldenblast714.github.io/Codename-Shootgame/">Codename: Shootgame</a> will unlock!'
                    ] : ['You are viewing this game outside of the real website. No tips for you!'];
                    (function setTip() {
                        if (document.getElementById('preloader')) {
                            tip.innerHTML = `<strong>Fun fact:</strong>   ${tips[Math.floor(Math.random() * tips.length)]}`
                            setTimeout(setTip, 5000)
                        }
                    })()
                    document.currentScript.replaceWith(tip)
                </script>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                    style="margin: auto; display: block; shape-rendering: auto;" width="200px" height="200px"
                    viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                    <circle cx="50" cy="50" fill="none" stroke="#fff" stroke-width="10" r="35"
                        stroke-dasharray="164.93361431346415 56.97787143782138">
                        <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s"
                            values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>
                    </circle>
                </svg>
                <script>
                    fetch('./Cubey.wick', {
                        method: 'HEAD'
                    }).then(res => res.headers.get('Content-Length') / 1000000).then(megabytes => {
                        const size = document.createElement('p')
                        size.innerText = 'Size: ' + megabytes.toFixed(2) + ' MB'
                        document.querySelector('main').appendChild(size)
                    })
                </script>
            </main>
        </div>
        </div>

        <!-- Wick project canvas container -->
        <div id="wick-canvas-container"></div>
        <script src="wickengine.js"></script>
        <script src="loadproject.js"></script>

    </body>

</html>
